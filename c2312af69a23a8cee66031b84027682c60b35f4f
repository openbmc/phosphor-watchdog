{
  "comments": [
    {
      "key": {
        "uuid": "e620d71c_4806629f",
        "filename": "src/watchdog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000233
      },
      "writtenOn": "2021-07-14T00:17:54Z",
      "side": 1,
      "message": "OpenBMC tries to keep IPMI-specific stuff only in IPMI-related repos. Can this translation be done in phosphor-sel-logger instead?",
      "revId": "c2312af69a23a8cee66031b84027682c60b35f4f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "02eff79f_de8dcab1",
        "filename": "src/watchdog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2021-07-14T00:21:04Z",
      "side": 1,
      "message": "The Watchdog Monitor in Sel logger only look at the changes with the Enabled flag.\n\nhttp://github.com/openbmc/phosphor-sel-logger/blob/master/include/watchdog_event_monitor.hpp\n\nI\u0027ll try to see how I can support watchdog timeout in it.",
      "parentUuid": "e620d71c_4806629f",
      "revId": "c2312af69a23a8cee66031b84027682c60b35f4f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3289dbf0_c0439690",
        "filename": "src/watchdog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000188
      },
      "writtenOn": "2021-07-30T09:51:43Z",
      "side": 1,
      "message": "We could broadcast some kind of signal if needed. I don\u0027t know where you are at on this one.\n\nTechnically you can kinda infer the timeout from other signals, but I think leveraging that would be error prone.",
      "parentUuid": "02eff79f_de8dcab1",
      "revId": "c2312af69a23a8cee66031b84027682c60b35f4f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c42f72c_fd005eee",
        "filename": "src/watchdog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2021-08-03T20:31:59Z",
      "side": 1,
      "message": "I have only looked through how this timeout got triggered and the watchdog event monitor for now.\n\nWhen you mentioned broadcast some signal, do you just mean creating a object path like\n\n```\nobjPath + \"/timeout\"\n```\n\nobjPath is the current watchdog object.\n\nMaybe like\n\n/xyz/openbmc_project/watchdog/host0\n|__/xyz/openbmc_project/watchdog/host0/timeout\n\nand then just delete the path and create the path again when new timeout happens instead of creating new one everytime with `xyz.openbmc_project.State.Watchdog.Timeout` as one of the interface.\n\nIn the phosphor-sel-logger (watchdog monitor), it just watch that interface being added.\n\nMaybe something like that?",
      "parentUuid": "3289dbf0_c0439690",
      "revId": "c2312af69a23a8cee66031b84027682c60b35f4f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "261cb441_5576d6aa",
        "filename": "src/watchdog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2021-08-04T21:26:08Z",
      "side": 1,
      "message": "ok, nevermind. The object path doesn\u0027t look like a good idea.\n\nI have created a new property under State.Watchdog.\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-dbus-interfaces/+/45621\n\nand updated the SEL logger to use it to pose the logs.\n\nhttps://gerrit.openbmc-project.xyz/c/openbmc/phosphor-sel-logger/+/45622",
      "parentUuid": "6c42f72c_fd005eee",
      "revId": "c2312af69a23a8cee66031b84027682c60b35f4f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41c16656_4c9d8ef8",
        "filename": "src/watchdog.cpp",
        "patchSetId": 3
      },
      "lineNbr": 162,
      "author": {
        "id": 1000188
      },
      "writtenOn": "2021-08-05T08:09:53Z",
      "side": 1,
      "message": "It would be the same object path, but it would be a signal using the same Watchdog interface but a member named Timeout or similar. You can attach arbitrary data to the signal like a return value.",
      "parentUuid": "261cb441_5576d6aa",
      "revId": "c2312af69a23a8cee66031b84027682c60b35f4f",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}